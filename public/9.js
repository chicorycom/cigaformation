(window.webpackJsonp=window.webpackJsonp||[]).push([[9],{"1V4F":function(t,e){t.exports="/images/276x352.png?a17f32635c9bb3e5002031360da2cf5f"},"1vQO":function(t,e,s){"use strict";var a=s("7uxN");s.n(a).a},"2JXi":function(t,e){t.exports="/images/251x157.png?088169ea15fe2d171718c5bf25322275"},"7uxN":function(t,e,s){var a=s("BiQY");"string"==typeof a&&(a=[[t.i,a,""]]);var i={hmr:!0,transform:void 0,insertInto:void 0};s("aET+")(a,i);a.locals&&(t.exports=a.locals)},"9rgj":function(t,e){t.exports="/images/730x340.png?85b9bf58e7fb3e5a4bd37d5085206479"},BiQY:function(t,e,s){(t.exports=s("I1BE")(!1)).push([t.i,".preview-thumbnail{width:100%;height:157px;background:no-repeat 50%;background-size:cover}.preview-thumbnail.is-invalid{border:1px solid #e74a3b}.formation-filter-group{width:50%}.single-trainer{margin-bottom:30px}.single-trainer .thumb{position:relative}.single-trainer .meta-text{padding:20px 25px;box-shadow:0 0 30px hsla(0,0%,60%,.13);transition:all .3s ease 0s;background:#fff}@media (max-width:991px){.single-trainer .meta-text{padding:20px}}.single-trainer .meta-text h4{font-size:20px;margin-bottom:0}.single-trainer .meta-text .designation{font-size:14px;margin-bottom:30px}.single-trainer .meta-text a{font-size:14px;margin:0 10px;color:#ccc;transition:all .3s ease 0s}.single-trainer .meta-text a:hover{color:#62b0ff}.single-trainer:hover .meta-text{box-shadow:0 10px 30px rgba(0,35,71,.15)}",""])},VseR:function(t,e,s){"use strict";s.r(e);var a=s("o0o1"),i=s.n(a),r=s("4HBT"),o=s.n(r),n=s("+z1p"),l=s.n(n),c=s("+5+X"),u=s("vDqi"),m=s.n(u);function f(t,e,s,a,i,r,o){try{var n=t[r](o),l=n.value}catch(t){return void s(t)}n.done?e(l):Promise.resolve(l).then(a,i)}function d(t){return function(){var e=this,s=arguments;return new Promise((function(a,i){var r=t.apply(e,s);function o(t){f(r,a,i,o,n,"next",t)}function n(t){f(r,a,i,o,n,"throw",t)}o(void 0)}))}}var p={name:"formations",data:function(){return{showModal:!1,filte:"all",title:"",formation_filter:"FORMATIONS",formations:[],formationsAll:[],form:new o.a({id:null,type:"",title:"",slug:"",level:"",body:"<p>Content of the editor.</p>",duration:"",schedule:"",seats:50,img_read:"",thumbnail:"",img_view:"",price:"",status:!0,top:!1}),editor:l.a,editorConfig:{},start:"",end:"",preview_thum:s("2JXi"),preview_img:s("9rgj"),preview_read:s("1V4F"),formations_type:[]}},components:{TimePicker:c.a},watch:{title:function(t){this.form.title=t,this.form.slug=this.slugify(t)}},created:function(){this.getformationType(),this.getformations()},methods:{restore:function(){this.title="",this.form.reset(),this.preview_thum=s("2JXi"),this.preview_img=s("9rgj"),this.preview_read=s("1V4F")},selectThum:function(t){var e=this,s=t.target.files,a=new FileReader;a.addEventListener("load",(function(){e.preview_thum=a.result})),a.readAsDataURL(s[0]),this.form.thumbnail=s[0]},selectImg:function(t){var e=this,s=t.target.files,a=new FileReader;a.addEventListener("load",(function(){e.preview_img=a.result})),a.readAsDataURL(s[0]),this.form.img_view=s[0]},selectRead:function(t){var e=this,s=t.target.files,a=new FileReader;a.addEventListener("load",(function(){e.preview_read=a.result})),a.readAsDataURL(s[0]),this.form.img_read=s[0]},getformationType:function(){var t=this;return d(i.a.mark((function e(){var s,a;return i.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,m.a.get("/".concat(config.base,"/formation-type"));case 2:s=e.sent,a=s.data,t.formations_type=a.children;case 5:case"end":return e.stop()}}),e)})))()},getformations:function(){var t=this;return d(i.a.mark((function e(){var s,a;return i.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,m.a.get("/".concat(config.base,"/formation-data"));case 2:s=e.sent,a=s.data,t.formations=a,t.formationsAll=a;case 6:case"end":return e.stop()}}),e)})))()},store:function(){var t=this,e="/".concat(config.base,"/formation-data");this.form.id&&(this.form._method="PUT",e="/".concat(config.base,"/formation-data/").concat(this.form.id)),this.form.submit("post",e,{transformRequest:[function(e,s){return t.gformData(e)}]}).then((function(){t.restore(),t.showModal=!1,t.getformations()}))},changeFormation:function(){var t=this;if("all"===this.filte)this.formations=this.formationsAll;else{var e=this.formations_type.filter((function(e){return e.id===t.filte}));this.formation_filter=e[0].name,this.formations=this.formationsAll.filter((function(e){return e.type===t.filte}))}},onEdit:function(t){var e=this;return d(i.a.mark((function s(){var a,r;return i.a.wrap((function(s){for(;;)switch(s.prev=s.next){case 0:return s.next=2,m.a.get("/".concat(config.base,"/formation-data/").concat(t,"/edit"));case 2:return a=s.sent,(r=a.data).status=!!r.status,r.top=!!r.top,e.title=r.title,s.next=9,e.form.fill(r);case 9:e.preview_thum=r.thumbnail,e.preview_img=r.img_view,e.preview_read=r.img_read,e.showModal=!0;case 13:case"end":return s.stop()}}),s)})))()},onDelete:function(t){this.$delete(t,d(i.a.mark((function e(){return i.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,m.a.delete("/".concat(config.base,"/formation-data/").concat(t));case 2:case"end":return e.stop()}}),e)}))))}}},v=(s("1vQO"),s("KHd+")),g=Object(v.a)(p,(function(){var t=this,e=t.$createElement,s=t._self._c||e;return s("div",{staticClass:"card"},[s("header",{staticClass:"card-header card-header-with-icons"},[s("h4",{staticClass:"card-header-title",domProps:{textContent:t._s(t.formation_filter)}}),t._v(" "),s("div",{staticClass:"formation-filter-group"},[s("select",{directives:[{name:"model",rawName:"v-model",value:t.filte,expression:"filte"}],staticClass:"form-control form-control-sm",on:{change:[function(e){var s=Array.prototype.filter.call(e.target.options,(function(t){return t.selected})).map((function(t){return"_value"in t?t._value:t.value}));t.filte=e.target.multiple?s:s[0]},t.changeFormation]}},[s("option",{attrs:{value:"all"}},[t._v("All")]),t._v(" "),t._l(t.formations_type,(function(e){return s("option",{domProps:{value:e.id,textContent:t._s(e.name)}})}))],2)]),t._v(" "),s("ul",{staticClass:"list-inline mb-0"},[s("li",{staticClass:"list-inline-item"},[s("button",{staticClass:"btn btn-sm btn-outline-primary",attrs:{type:"button"},on:{click:function(e){t.showModal=!0}}},[s("span",{staticClass:"fas fa-plus"}),t._v(" Ajouter\n                ")])]),t._v(" "),t._m(0),t._v(" "),t._m(1)])]),t._v(" "),s("div",{staticClass:"card-body"},[s("div",{staticClass:"row"},t._l(t.formations,(function(e){return s("div",{staticClass:"col-lg-3 col-md-4 col-sm-12 single-trainer"},[s("div",{staticClass:"thumb d-flex justify-content-sm-center"},[s("img",{staticClass:"/img-fluid",staticStyle:{width:"100%"},attrs:{src:e.thumbnail,alt:""}})]),t._v(" "),s("div",{staticClass:"meta-text text-sm-center"},[s("h4",{domProps:{textContent:t._s(e.title)}}),t._v(" "),s("p",{staticClass:"designation"},[t._v("Formation en "+t._s(e.duration))]),t._v(" "),s("div",{staticClass:"align-items-center justify-content-center d-flex"},[s("ul",{staticClass:"list-inline mb-0"},[t._m(2,!0),t._v(" "),s("li",{staticClass:"list-inline-item"},[s("button",{staticClass:"btn btn-sm btn-outline-warning",attrs:{type:"button"},on:{click:function(s){return t.onEdit(e.id)}}},[s("span",{staticClass:"fas fa-edit"})])]),t._v(" "),s("li",{staticClass:"list-inline-item"},[s("button",{staticClass:"btn btn-sm btn-outline-danger",attrs:{type:"button"},on:{click:function(s){return t.onDelete(e.id)}}},[s("i",{staticClass:"fas fa-trash"})])])])])])])})),0)]),t._v(" "),t.showModal?s("modal",{attrs:{btn:"",width:70},on:{close:function(e){t.restore(),t.showModal=!1}}},[s("div",{staticClass:"card",attrs:{slot:"container"},slot:"container"},[s("span",{staticClass:"close ",on:{click:function(e){t.restore(),t.showModal=!1}}},[s("i",{staticClass:"far fa-times-circle"})]),t._v(" "),s("form",{on:{submit:function(e){return e.preventDefault(),t.store(e)},keydown:function(e){return t.form.onKeydown(e)}}},[s("header",{staticClass:"card-header card-header-with-icons"},[s("h1",{staticClass:"h2 mb-2"},[t._v("Create FORMATION")])]),t._v(" "),s("div",{staticClass:"card-body "},[s("div",{staticClass:"row"},[s("div",{staticClass:"col-md-6"},[s("div",{staticClass:"form-group"},[s("div",{staticClass:"input-group"},[s("div",{staticClass:"input-group-prepend"},[s("span",{staticClass:"input-group-text"},[t._v("\n                                                Title\n                                            ")])]),t._v(" "),s("input",{directives:[{name:"model",rawName:"v-model",value:t.title,expression:"title"}],staticClass:"form-control",class:{"is-invalid":t.form.errors.has("title")},attrs:{type:"text",placeholder:"Title "},domProps:{value:t.title},on:{input:function(e){e.target.composing||(t.title=e.target.value)}}}),t._v(" "),s("has-error",{attrs:{form:t.form,field:"title"}})],1)])]),t._v(" "),s("div",{staticClass:"col-md-6"},[s("div",{staticClass:"form-group"},[s("div",{staticClass:"input-group"},[s("div",{staticClass:"input-group-prepend"},[s("span",{staticClass:"input-group-text"},[t._v("\n                                                Slug\n                                            ")])]),t._v(" "),s("input",{directives:[{name:"model",rawName:"v-model",value:t.form.slug,expression:"form.slug"}],staticClass:"form-control",class:{"is-invalid":t.form.errors.has("slug")},attrs:{type:"text",placeholder:"slug",disabled:""},domProps:{value:t.form.slug},on:{input:function(e){e.target.composing||t.$set(t.form,"slug",e.target.value)}}}),t._v(" "),s("has-error",{attrs:{form:t.form,field:"slug"}})],1)])])]),t._v(" "),s("div",{staticClass:"row"},[s("div",{staticClass:"col-md-4"},[s("div",{staticClass:"form-group"},[s("div",{staticClass:"input-group"},[s("div",{staticClass:"input-group-prepend"},[s("span",{staticClass:"input-group-text"},[t._v("\n                                                Degree Level\n                                            ")])]),t._v(" "),s("input",{directives:[{name:"model",rawName:"v-model",value:t.form.level,expression:"form.level"}],staticClass:"form-control",class:{"is-invalid":t.form.errors.has("level")},attrs:{type:"text",placeholder:"BAC +3"},domProps:{value:t.form.level},on:{input:function(e){e.target.composing||t.$set(t.form,"level",e.target.value)}}}),t._v(" "),s("has-error",{attrs:{form:t.form,field:"level"}})],1)])]),t._v(" "),s("div",{staticClass:"col-md-4"},[s("div",{staticClass:"form-group"},[s("div",{staticClass:"input-group"},[s("div",{staticClass:"input-group-prepend"},[s("span",{staticClass:"input-group-text"},[t._v("\n                                                Duration\n                                            ")])]),t._v(" "),s("input",{directives:[{name:"model",rawName:"v-model",value:t.form.duration,expression:"form.duration"}],staticClass:"form-control",class:{"is-invalid":t.form.errors.has("duration")},attrs:{type:"text",placeholder:"3 ans"},domProps:{value:t.form.duration},on:{input:function(e){e.target.composing||t.$set(t.form,"duration",e.target.value)}}}),t._v(" "),s("has-error",{attrs:{form:t.form,field:"duration"}})],1)])]),t._v(" "),s("div",{staticClass:"col-md-4"},[s("div",{staticClass:"form-group"},[s("div",{staticClass:"input-group"},[s("div",{staticClass:"input-group-prepend"},[s("span",{staticClass:"input-group-text"},[t._v("\n                                                Nombre de Places\n                                            ")])]),t._v(" "),s("input",{directives:[{name:"model",rawName:"v-model",value:t.form.seats,expression:"form.seats"}],staticClass:"form-control",class:{"is-invalid":t.form.errors.has("seats")},attrs:{type:"text",placeholder:"Nombre de Places"},domProps:{value:t.form.seats},on:{input:function(e){e.target.composing||t.$set(t.form,"seats",e.target.value)}}}),t._v(" "),s("has-error",{attrs:{form:t.form,field:"seats"}})],1)])])]),t._v(" "),s("div",{staticClass:"row"},[s("div",{staticClass:"col-md-4"},[s("div",{staticClass:"form-group"},[s("div",{staticClass:"input-group"},[s("div",{staticClass:"input-group-prepend"},[s("span",{staticClass:"input-group-text"},[t._v("\n                                                Type\n                                            ")])]),t._v(" "),s("select",{directives:[{name:"model",rawName:"v-model",value:t.form.type,expression:"form.type"}],staticClass:"form-control ",class:{"is-invalid":t.form.errors.has("type")},on:{change:function(e){var s=Array.prototype.filter.call(e.target.options,(function(t){return t.selected})).map((function(t){return"_value"in t?t._value:t.value}));t.$set(t.form,"type",e.target.multiple?s:s[0])}}},[s("option",{attrs:{value:""}},[t._v("Formation Type")]),t._v(" "),t._l(t.formations_type,(function(e){return s("option",{domProps:{value:e.id,textContent:t._s(e.name)}},[t._v("Formation Continue")])}))],2),t._v(" "),s("has-error",{attrs:{form:t.form,field:"type"}})],1)])]),t._v(" "),s("div",{staticClass:"col-md-8"},[s("div",{staticClass:"row"},[s("div",{staticClass:"col-md-6"},[s("div",{staticClass:"form-group"},[s("div",{staticClass:"input-group"},[s("div",{staticClass:"input-group-prepend"},[s("span",{staticClass:"input-group-text"},[t._v("\n                                                        Price\n                                                    ")])]),t._v(" "),s("input",{directives:[{name:"model",rawName:"v-model",value:t.form.price,expression:"form.price"}],staticClass:"form-control",class:{"is-invalid":t.form.errors.has("price")},attrs:{type:"text",placeholder:"50 XOF/mois"},domProps:{value:t.form.price},on:{input:function(e){e.target.composing||t.$set(t.form,"price",e.target.value)}}}),t._v(" "),s("has-error",{attrs:{form:t.form,field:"price"}})],1)])]),t._v(" "),s("div",{staticClass:"col-md-6"},[s("div",{staticClass:"form-group d-flex align-items-center"},[s("div",{staticClass:"p-2 mr-2"},[s("span",{staticClass:"mr-2"},[t._v("Mis en top")]),t._v(" "),s("vb-switch",{attrs:{type:"success"},model:{value:t.form.top,callback:function(e){t.$set(t.form,"top",e)},expression:"form.top"}})],1),t._v(" "),s("div",{staticClass:"p-2 "},[s("span",{staticClass:"mr-2"},[t._v("Status")]),t._v(" "),s("vb-switch",{attrs:{type:"success"},model:{value:t.form.status,callback:function(e){t.$set(t.form,"status",e)},expression:"form.status"}})],1)])])])])]),t._v(" "),s("div",{staticClass:"row"},[s("div",{staticClass:"col-md-3"},[s("div",{staticClass:"form-group"},[s("div",{staticClass:"preview-thumbnail d-flex justify-content-center align-items-center",class:{"is-invalid":t.form.errors.has("img_read")},style:{background:"url("+t.preview_read+") no-repeat scroll center center / cover"}},[s("input",{staticClass:"inputfile",attrs:{type:"file",placeholder:"Image",id:"img_read"},on:{change:t.selectRead}}),t._v(" "),s("label",{attrs:{for:"img_read"}},[s("i",{staticClass:"fas fa-upload"})])])])]),t._v(" "),s("div",{staticClass:"col-md-4"},[s("div",{staticClass:"form-group"},[s("div",{staticClass:"preview-thumbnail d-flex justify-content-center align-items-center",class:{"is-invalid":t.form.errors.has("thumbnail")},style:{background:"url("+t.preview_thum+") no-repeat scroll center center / cover"}},[s("input",{staticClass:"inputfile",attrs:{type:"file",placeholder:" Image",id:"file"},on:{change:t.selectThum}}),t._v(" "),s("label",{attrs:{for:"file"}},[s("i",{staticClass:"fas fa-upload"})])])])]),t._v(" "),s("div",{staticClass:"col-md-5"},[s("div",{staticClass:"form-group"},[s("div",{staticClass:"preview-thumbnail d-flex justify-content-center align-items-center",class:{"is-invalid":t.form.errors.has("img_view")},style:{background:"url("+t.preview_img+") no-repeat scroll center center / cover"}},[s("input",{staticClass:"inputfile",attrs:{type:"file",placeholder:"Image",id:"img-form"},on:{change:t.selectImg}}),t._v(" "),s("label",{attrs:{for:"img-form"}},[s("i",{staticClass:"fas fa-upload"})])])])])]),t._v(" "),s("div",{staticClass:"row"},[s("div",{staticClass:"col-md-12"},[s("div",{staticClass:"form-group"},[s("ckeditor",{attrs:{height:"200",editor:t.editor,config:t.editorConfig},model:{value:t.form.body,callback:function(e){t.$set(t.form,"body",e)},expression:"form.body"}})],1)])])]),t._v(" "),s("footer",{staticClass:"card-footer d-md-flex align-items-center justify-content-between"},[s("v-button",{attrs:{loading:t.form.busy,type:"reset",typeStyle:"default"}},[s("h2",[s("i",{staticClass:"fas fa-sync-alt"})]),t._v("\n                            Reset\n                        ")]),t._v(" "),s("v-button",{staticClass:"btn btn-primary",attrs:{loading:t.form.busy}},[s("h2",[s("i",{staticClass:"fas fa-save"})]),t._v("\n                            Enregisté\n                        ")])],1)])])]):t._e()],1)}),[function(){var t=this.$createElement,e=this._self._c||t;return e("li",{staticClass:"list-inline-item"},[e("button",{staticClass:"btn btn-sm btn-outline-primary",attrs:{type:"button"}},[e("span",{staticClass:"fas fa-sync-alt"})])])},function(){var t=this.$createElement,e=this._self._c||t;return e("li",{staticClass:"list-inline-item"},[e("button",{staticClass:"btn btn-sm btn-outline-primary",attrs:{type:"button"}},[e("i",{staticClass:"fas fa-undo-alt"})])])},function(){var t=this.$createElement,e=this._self._c||t;return e("li",{staticClass:"list-inline-item"},[e("button",{staticClass:"btn btn-sm btn-outline-success",attrs:{type:"button"}},[e("span",{staticClass:"fas fa-eye"})])])}],!1,null,null,null);e.default=g.exports}}]);